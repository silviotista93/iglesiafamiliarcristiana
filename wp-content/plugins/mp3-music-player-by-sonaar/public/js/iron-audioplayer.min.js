function hideEmptyAttribut(t,e){""==t?e.css("display","none"):e.css("display","block")}function setIronAudioplayers(){IRON.players=[],jQuery(".iron-audioplayer").each(function(){var t=Object.create(IRON.audioPlayer);t.init(jQuery(this)),IRON.players.push(t)})}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function g(){return Nt.apply(null,arguments)}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var i in e)v(e,i)&&(t[i]=e[i]);return v(e,"toString")&&(t.toString=e.toString),v(e,"valueOf")&&(t.valueOf=e.valueOf),t}function r(t,e,i,s){return at(t,e,i,s,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),t._pf}function l(t){if(null==t._isValid){var e=y(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=r(NaN);return null!=t?d(y(e),t):y(e).userInvalidated=!0,e}function a(t){return void 0===t}function f(t,e){var i,s,n;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=y(e)),a(e._locale)||(t._locale=e._locale),0<Gt.length)for(i in Gt)a(n=e[s=Gt[i]])||(t[s]=n);return t}function m(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===Ht&&(Ht=!0,g.updateOffset(this),Ht=!1)}function p(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t):Math.floor(t)}function w(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=_(e)),i}function b(t,e,i){var s,n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(s=0;s<n;s++)(i&&t[s]!==e[s]||!i&&w(t[s])!==w(e[s]))&&r++;return r+a}function i(){}function k(t){return t?t.toLowerCase().replace("_","-"):t}function x(t){var e=null;if(!It[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ut._abbr,require("./locale/"+t),s(e)}catch(t){}return It[t]}function s(t,e){var i;return t&&((i=a(e)?C(t):n(t,e))&&(Ut=i)),Ut._abbr}function n(t,e){return null!==e?(e.abbr=t,It[t]=It[t]||new i,It[t].set(e),s(t),It[t]):(delete It[t],null)}function C(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ut;if(!o(t)){if(e=x(t))return e;t=[t]}return function(t){for(var e,i,s,n,a=0;a<t.length;){for(e=(n=k(t[a]).split("-")).length,i=(i=k(t[a+1]))?i.split("-"):null;0<e;){if(s=x(n.slice(0,e).join("-")))return s;if(i&&i.length>=e&&b(n,i,!0)>=e-1)break;e--}a++}return null}(t)}function t(t,e){var i=t.toLowerCase();Vt[i]=Vt[i+"s"]=Vt[e]=t}function S(t){return"string"==typeof t?Vt[t]||Vt[t.toLowerCase()]:void 0}function D(t){var e,i,s={};for(i in t)v(t,i)&&((e=S(i))&&(s[e]=t[i]));return s}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function e(e,i){return function(t){return null!=t?(T(this,e,t),g.updateOffset(this,i),this):P(this,e)}}function P(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function T(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function Y(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(M(this[t=S(t)]))return this[t](e);return this}function E(t,e,i){var s=""+Math.abs(t),n=e-s.length;return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}function W(t,e,i,s){var n=s;"string"==typeof s&&(n=function(){return this[s]()}),t&&(Zt[t]=n),e&&(Zt[e[0]]=function(){return E(n.apply(this,arguments),e[1],e[2])}),i&&(Zt[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function A(t,e){return t.isValid()?(e=O(e,t.localeData()),Bt[e]=Bt[e]||function(i){var s,n,t,a=i.match(jt);for(s=0,n=a.length;s<n;s++)Zt[a[s]]?a[s]=Zt[a[s]]:a[s]=(t=a[s]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var e="";for(s=0;s<n;s++)e+=a[s]instanceof Function?a[s].call(t,i):a[s];return e}}(e),Bt[e](t)):t.localeData().invalidDate()}function O(t,e){function i(t){return e.longDateFormat(t)||t}var s=5;for(zt.lastIndex=0;0<=s&&zt.test(t);)t=t.replace(zt,i),zt.lastIndex=0,s-=1;return t}function R(t,i,s){de[t]=M(i)?i:function(t,e){return t&&s?s:i}}function F(t,e){return v(de,t)?de[t](e._strict,e._locale):new RegExp(L(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,n){return e||i||s||n})))}function L(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function N(t,i){var e,s=i;for("string"==typeof t&&(t=[t]),"number"==typeof i&&(s=function(t,e){e[i]=w(t)}),e=0;e<t.length;e++)le[t[e]]=s}function U(t,n){N(t,function(t,e,i,s){i._w=i._w||{},n(t,i._w,i,s)})}function G(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function H(t,e){var i;return t.isValid()&&("string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))||(i=Math.min(t.date(),G(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i))),t}function I(t){return null!=t?(H(this,t),g.updateOffset(this,!0),this):P(this,"Month")}function V(){function t(t,e){return e.length-t.length}var e,i,s=[],n=[],a=[];for(e=0;e<12;e++)i=r([2e3,e]),s.push(this.monthsShort(i,"")),n.push(this.months(i,"")),a.push(this.months(i,"")),a.push(this.monthsShort(i,""));for(s.sort(t),n.sort(t),a.sort(t),e=0;e<12;e++)s[e]=L(s[e]),n[e]=L(n[e]),a[e]=L(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")$","i")}function j(t){var e,i=t._a;return i&&-2===y(t).overflow&&(e=i[fe]<0||11<i[fe]?fe:i[me]<1||i[me]>G(i[ce],i[fe])?me:i[pe]<0||24<i[pe]||24===i[pe]&&(0!==i[ve]||0!==i[ge]||0!==i[ye])?pe:i[ve]<0||59<i[ve]?ve:i[ge]<0||59<i[ge]?ge:i[ye]<0||999<i[ye]?ye:-1,y(t)._overflowDayOfYear&&(e<ce||me<e)&&(e=me),y(t)._overflowWeeks&&-1===e&&(e=_e),y(t)._overflowWeekday&&-1===e&&(e=we),y(t).overflow=e),t}function z(t){!1===g.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function B(t,e){var i=!0;return d(function(){return i&&(z(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function Z(t){var e,i,s,n,a,r,o=t._i,h=Me.exec(o)||Pe.exec(o);if(h){for(y(t).iso=!0,e=0,i=Ye.length;e<i;e++)if(Ye[e][1].exec(h[1])){n=Ye[e][0],s=!1!==Ye[e][2];break}if(null==n)return void(t._isValid=!1);if(h[3]){for(e=0,i=Ee.length;e<i;e++)if(Ee[e][1].exec(h[3])){a=(h[2]||" ")+Ee[e][0];break}if(null==a)return void(t._isValid=!1)}if(!s&&null!=a)return void(t._isValid=!1);if(h[4]){if(!Te.exec(h[4]))return void(t._isValid=!1);r="Z"}t._f=n+(a||"")+(r||""),st(t)}else t._isValid=!1}function q(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function X(t){return $(t)?366:365}function $(t){return t%4==0&&t%100!=0||t%400==0}function J(t,e,i){var s=7+e-i;return-((7+q(t,0,s).getUTCDay()-e)%7)+s-1}function Q(t,e,i,s,n){var a,r,o=1+7*(e-1)+(7+i-s)%7+J(t,s,n);return o<=0?r=X(a=t-1)+o:o>X(t)?(a=t+1,r=o-X(t)):(a=t,r=o),{year:a,dayOfYear:r}}function K(t,e,i){var s,n,a=J(t.year(),e,i),r=Math.floor((t.dayOfYear()-a-1)/7)+1;return r<1?s=r+tt(n=t.year()-1,e,i):r>tt(t.year(),e,i)?(s=r-tt(t.year(),e,i),n=t.year()+1):(n=t.year(),s=r),{week:s,year:n}}function tt(t,e,i){var s=J(t,e,i),n=J(t+1,e,i);return(X(t)-s+n)/7}function et(t,e,i){return null!=t?t:null!=e?e:i}function it(t){var e,i,s,n,a,r,o,h,u,d,l,c,f,m,p,v=[];if(!t._d){for(m=t,p=void 0,p=new Date(g.now()),s=m._useUTC?[p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()]:[p.getFullYear(),p.getMonth(),p.getDate()],t._w&&null==t._a[me]&&null==t._a[fe]&&(f=c=l=d=u=h=o=r=void 0,null!=(r=(a=t)._w).GG||null!=r.W||null!=r.E?(d=1,l=4,o=et(r.GG,a._a[ce],K(rt(),1,4).year),h=et(r.W,1),((u=et(r.E,1))<1||7<u)&&(f=!0)):(d=a._locale._week.dow,l=a._locale._week.doy,o=et(r.gg,a._a[ce],K(rt(),d,l).year),h=et(r.w,1),null!=r.d?((u=r.d)<0||6<u)&&(f=!0):null!=r.e?(u=r.e+d,(r.e<0||6<r.e)&&(f=!0)):u=d),h<1||h>tt(o,d,l)?y(a)._overflowWeeks=!0:null!=f?y(a)._overflowWeekday=!0:(c=Q(o,h,u,d,l),a._a[ce]=c.year,a._dayOfYear=c.dayOfYear)),t._dayOfYear&&(n=et(t._a[ce],s[ce]),t._dayOfYear>X(n)&&(y(t)._overflowDayOfYear=!0),i=q(n,0,t._dayOfYear),t._a[fe]=i.getUTCMonth(),t._a[me]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=v[e]=s[e];for(;e<7;e++)t._a[e]=v[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[pe]&&0===t._a[ve]&&0===t._a[ge]&&0===t._a[ye]&&(t._nextDay=!0,t._a[pe]=0),t._d=(t._useUTC?q:function(t,e,i,s,n,a,r){var o=new Date(t,e,i,s,n,a,r);return t<100&&0<=t&&isFinite(o.getFullYear())&&o.setFullYear(t),o}).apply(null,v),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[pe]=24)}}function st(t){if(t._f!==g.ISO_8601){t._a=[],y(t).empty=!0;var e,i,s,n,a,r,o,h,u,d,l,c,f=""+t._i,m=f.length,p=0;for(s=O(t._f,t._locale).match(jt)||[],e=0;e<s.length;e++)n=s[e],(i=(f.match(F(n,t))||[])[0])&&(0<(a=f.substr(0,f.indexOf(i))).length&&y(t).unusedInput.push(a),f=f.slice(f.indexOf(i)+i.length),p+=i.length),Zt[n]?(i?y(t).empty=!1:y(t).unusedTokens.push(n),r=n,h=t,null!=(o=i)&&v(le,r)&&le[r](o,h._a,h,r)):t._strict&&!i&&y(t).unusedTokens.push(n);y(t).charsLeftOver=m-p,0<f.length&&y(t).unusedInput.push(f),!0===y(t).bigHour&&t._a[pe]<=12&&0<t._a[pe]&&(y(t).bigHour=void 0),t._a[pe]=(u=t._locale,d=t._a[pe],null==(l=t._meridiem)?d:null!=u.meridiemHour?u.meridiemHour(d,l):(null!=u.isPM&&((c=u.isPM(l))&&d<12&&(d+=12),c||12!==d||(d=0)),d)),it(t),j(t)}else Z(t)}function nt(t){var e,i,s,n,a=t._i,r=t._f;return t._locale=t._locale||C(t._l),null===a||void 0===r&&""===a?c({nullInput:!0}):("string"==typeof a&&(t._i=a=t._locale.preparse(a)),p(a)?new m(j(a)):(o(r)?function(t){var e,i,s,n,a;if(0===t._f.length)return y(t).invalidFormat=!0,t._d=new Date(NaN);for(n=0;n<t._f.length;n++)a=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],st(e),l(e)&&(a+=y(e).charsLeftOver,a+=10*y(e).unusedTokens.length,y(e).score=a,(null==s||a<s)&&(s=a,i=e));d(t,i||e)}(t):r?st(t):h(a)?t._d=a:void 0===(i=(e=t)._i)?e._d=new Date(g.now()):h(i)?e._d=new Date(+i):"string"==typeof i?(s=e,null!==(n=We.exec(s._i))?s._d=new Date(+n[1]):(Z(s),!1===s._isValid&&(delete s._isValid,g.createFromInputFallback(s)))):o(i)?(e._a=u(i.slice(0),function(t){return parseInt(t,10)}),it(e)):"object"==typeof i?function(t){if(!t._d){var e=D(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),it(t)}}(e):"number"==typeof i?e._d=new Date(i):g.createFromInputFallback(e),l(t)||(t._d=null),t))}function at(t,e,i,s,n){var a,r={};return"boolean"==typeof i&&(s=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=n,r._l=i,r._i=t,r._f=e,r._strict=s,(a=new m(j(nt(r))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function rt(t,e,i,s){return at(t,e,i,s,!1)}function ot(t,e){var i,s;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return rt();for(i=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](i))&&(i=e[s]);return i}function ht(t){var e=D(t),i=e.year||0,s=e.quarter||0,n=e.month||0,a=e.week||0,r=e.day||0,o=e.hour||0,h=e.minute||0,u=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*u+6e4*h+36e5*o,this._days=+r+7*a,this._months=+n+3*s+12*i,this._data={},this._locale=C(),this._bubble()}function ut(t){return t instanceof ht}function dt(t,i){W(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+E(~~(t/60),2)+i+E(~~t%60,2)})}function lt(t,e){var i=(e||"").match(t)||[],s=((i[i.length-1]||[])+"").match(Fe)||["-",0,0],n=60*s[1]+w(s[2]);return"+"===s[0]?n:-n}function ct(t,e){var i,s;return e._isUTC?(i=e.clone(),s=(p(t)||h(t)?+t:+rt(t))-+i,i._d.setTime(+i._d+s),g.updateOffset(i,!1),i):rt(t).local()}function ft(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function mt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function pt(t,e){var i,s,n,a,r,o,h=t,u=null;return ut(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(h={},e?h[e]=t:h.milliseconds=t):(u=Le.exec(t))?(i="-"===u[1]?-1:1,h={y:0,d:w(u[me])*i,h:w(u[pe])*i,m:w(u[ve])*i,s:w(u[ge])*i,ms:w(u[ye])*i}):(u=Ne.exec(t))?(i="-"===u[1]?-1:1,h={y:vt(u[2],i),M:vt(u[3],i),d:vt(u[4],i),h:vt(u[5],i),m:vt(u[6],i),s:vt(u[7],i),w:vt(u[8],i)}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(a=rt(h.from),r=rt(h.to),n=a.isValid()&&r.isValid()?(r=ct(r,a),a.isBefore(r)?o=gt(a,r):((o=gt(r,a)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(h={}).ms=n.milliseconds,h.M=n.months),s=new ht(h),ut(t)&&v(t,"_locale")&&(s._locale=t._locale),s}function vt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function gt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function yt(a,r){return function(t,e){var i,s,n;return null===e||isNaN(+e)||(n="moment()."+(s=r)+"(period, number) is deprecated. Please use moment()."+r+"(number, period).",De[s]||(z(n),De[s]=!0),i=t,t=e,e=i),_t(this,pt(t="string"==typeof t?+t:t,e),a),this}}function _t(t,e,i,s){var n=e._milliseconds,a=e._days,r=e._months;t.isValid()&&(s=null==s||s,n&&t._d.setTime(+t._d+n*i),a&&T(t,"Date",P(t,"Date")+a*i),r&&H(t,P(t,"Month")+r*i),s&&g.updateOffset(t,a||r))}function wt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=C(t))&&(this._locale=e),this)}function bt(){return this._locale}function kt(t,e){W(0,[t,t.length],0,e)}function xt(t,e,i,s,n){var a;return null==t?K(this,s,n).year:((a=tt(t,s,n))<e&&(e=a),function(t,e,i,s,n){var a=Q(t,e,i,s,n),r=q(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,t,e,i,s,n))}function Ct(){return this.hours()%12||12}function St(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Dt(t,e){return e._meridiemParse}function Mt(t,e){e[ye]=w(1e3*("0."+t))}function Pt(t){return t}function Tt(t,e,i,s){var n=C(),a=r().set(s,e);return n[i](a,t)}function Yt(t,e,i,s,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Tt(t,e,i,n);var a,r=[];for(a=0;a<s;a++)r[a]=Tt(t,a,i,n);return r}function Et(t,e,i,s){var n=pt(e,i);return t._milliseconds+=s*n._milliseconds,t._days+=s*n._days,t._months+=s*n._months,t._bubble()}function Wt(t){return t<0?Math.floor(t):Math.ceil(t)}function At(t){return 4800*t/146097}function Ot(t){return 146097*t/4800}function Rt(t){return function(){return this.as(t)}}function Ft(t){return function(){return this._data[t]}}function Lt(){var t,e,i=yi(this._milliseconds)/1e3,s=yi(this._days),n=yi(this._months);e=_((t=_(i/60))/60),i%=60,t%=60;var a=_(n/12),r=n%=12,o=s,h=e,u=t,d=i,l=this.asSeconds();return l?(l<0?"-":"")+"P"+(a?a+"Y":"")+(r?r+"M":"")+(o?o+"D":"")+(h||u||d?"T":"")+(h?h+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var Nt,Ut,Gt=g.momentProperties=[],Ht=!1,It={},Vt={},jt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bt={},Zt={},qt=/\d/,Xt=/\d\d/,$t=/\d{3}/,Jt=/\d{4}/,Qt=/[+-]?\d{6}/,Kt=/\d\d?/,te=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,se=/\d{1,4}/,ne=/[+-]?\d{1,6}/,ae=/\d+/,re=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,de={},le={},ce=0,fe=1,me=2,pe=3,ve=4,ge=5,ye=6,_e=7,we=8;W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),t("month","M"),R("M",Kt),R("MM",Kt,Xt),R("MMM",function(t,e){return e.monthsShortRegex(t)}),R("MMMM",function(t,e){return e.monthsRegex(t)}),N(["M","MM"],function(t,e){e[fe]=w(t)-1}),N(["MMM","MMMM"],function(t,e,i,s){var n=i._locale.monthsParse(t,s,i._strict);null!=n?e[fe]=n:y(i).invalidMonth=t});var be=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ce=ue,Se=ue,De={},Me=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Pe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Te=/Z|[+-]\d\d(?::?\d\d)?/,Ye=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,g.suppressDeprecationWarnings=!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ee=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],We=/^\/?Date\((\-?\d+)/i;g.createFromInputFallback=B("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),t("year","y"),R("Y",re),R("YY",Kt,Xt),R("YYYY",se,Jt),R("YYYYY",ne,Qt),R("YYYYYY",ne,Qt),N(["YYYYY","YYYYYY"],ce),N("YYYY",function(t,e){e[ce]=2===t.length?g.parseTwoDigitYear(t):w(t)}),N("YY",function(t,e){e[ce]=g.parseTwoDigitYear(t)}),N("Y",function(t,e){e[ce]=parseInt(t,10)}),g.parseTwoDigitYear=function(t){return w(t)+(68<w(t)?1900:2e3)};var Ae=e("FullYear",!1);g.ISO_8601=function(){};var Oe=B("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=rt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:c()}),Re=B("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=rt.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:c()});dt("Z",":"),dt("ZZ",""),R("Z",he),R("ZZ",he),N(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=lt(he,t)});var Fe=/([\+\-]|\d\d)/gi;g.updateOffset=function(){};var Le=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ne=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;pt.fn=ht.prototype;var Ue=yt(1,"add"),Ge=yt(-1,"subtract");g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var He=B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),kt("gggg","weekYear"),kt("ggggg","weekYear"),kt("GGGG","isoWeekYear"),kt("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),R("G",re),R("g",re),R("GG",Kt,Xt),R("gg",Kt,Xt),R("GGGG",se,Jt),R("gggg",se,Jt),R("GGGGG",ne,Qt),R("ggggg",ne,Qt),U(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=w(t)}),U(["gg","GG"],function(t,e,i,s){e[s]=g.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),t("quarter","Q"),R("Q",qt),N("Q",function(t,e){e[fe]=3*(w(t)-1)}),W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),R("w",Kt),R("ww",Kt,Xt),R("W",Kt),R("WW",Kt,Xt),U(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=w(t)});W("D",["DD",2],"Do","date"),t("date","D"),R("D",Kt),R("DD",Kt,Xt),R("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),N(["D","DD"],me),N("Do",function(t,e){e[me]=w(t.match(Kt)[0])});var Ie=e("Date",!0);W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),R("d",Kt),R("e",Kt),R("E",Kt),R("dd",ue),R("ddd",ue),R("dddd",ue),U(["dd","ddd","dddd"],function(t,e,i,s){var n=i._locale.weekdaysParse(t,s,i._strict);null!=n?e.d=n:y(i).invalidWeekday=t}),U(["d","e","E"],function(t,e,i,s){e[s]=w(t)});var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");W("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),R("DDD",ie),R("DDDD",$t),N(["DDD","DDDD"],function(t,e,i){i._dayOfYear=w(t)}),W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Ct),W("hmm",0,0,function(){return""+Ct.apply(this)+E(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Ct.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+E(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)}),St("a",!0),St("A",!1),t("hour","h"),R("a",Dt),R("A",Dt),R("H",Kt),R("h",Kt),R("HH",Kt,Xt),R("hh",Kt,Xt),R("hmm",te),R("hmmss",ee),R("Hmm",te),R("Hmmss",ee),N(["H","HH"],pe),N(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),N(["h","hh"],function(t,e,i){e[pe]=w(t),y(i).bigHour=!0}),N("hmm",function(t,e,i){var s=t.length-2;e[pe]=w(t.substr(0,s)),e[ve]=w(t.substr(s)),y(i).bigHour=!0}),N("hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[pe]=w(t.substr(0,s)),e[ve]=w(t.substr(s,2)),e[ge]=w(t.substr(n)),y(i).bigHour=!0}),N("Hmm",function(t,e,i){var s=t.length-2;e[pe]=w(t.substr(0,s)),e[ve]=w(t.substr(s))}),N("Hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[pe]=w(t.substr(0,s)),e[ve]=w(t.substr(s,2)),e[ge]=w(t.substr(n))});var Be=e("Hours",!0);W("m",["mm",2],0,"minute"),t("minute","m"),R("m",Kt),R("mm",Kt,Xt),N(["m","mm"],ve);var Ze=e("Minutes",!1);W("s",["ss",2],0,"second"),t("second","s"),R("s",Kt),R("ss",Kt,Xt),N(["s","ss"],ge);var qe,Xe=e("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),R("S",ie,qt),R("SS",ie,Xt),R("SSS",ie,$t),qe="SSSS";qe.length<=9;qe+="S")R(qe,ae);for(qe="S";qe.length<=9;qe+="S")N(qe,Mt);var $e=e("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Je=m.prototype;Je.add=Ue,Je.calendar=function(t,e){var i=t||rt(),s=ct(i,this).startOf("day"),n=this.diff(s,"days",!0),a=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse",r=e&&(M(e[a])?e[a]():e[a]);return this.format(r||this.localeData().calendar(a,this,rt(i)))},Je.clone=function(){return new m(this)},Je.diff=function(t,e,i){var s,n,a,r,o,h,u,d,l,c;return this.isValid()&&(s=ct(t,this)).isValid()?(n=6e4*(s.utcOffset()-this.utcOffset()),"year"===(e=S(e))||"month"===e||"quarter"===e?(o=this,l=12*((h=s).year()-o.year())+(h.month()-o.month()),c=o.clone().add(l,"months"),h-c<0?(u=o.clone().add(l-1,"months"),d=(h-c)/(c-u)):(u=o.clone().add(l+1,"months"),d=(h-c)/(u-c)),r=-(l+d),"quarter"===e?r/=3:"year"===e&&(r/=12)):(a=this-s,r="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-n)/864e5:"week"===e?(a-n)/6048e5:a),i?r:_(r)):NaN},Je.endOf=function(t){return void 0===(t=S(t))||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},Je.format=function(t){var e=A(this,t||g.defaultFormat);return this.localeData().postformat(e)},Je.from=function(t,e){return this.isValid()&&(p(t)&&t.isValid()||rt(t).isValid())?pt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Je.fromNow=function(t){return this.from(rt(),t)},Je.to=function(t,e){return this.isValid()&&(p(t)&&t.isValid()||rt(t).isValid())?pt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Je.toNow=function(t){return this.to(rt(),t)},Je.get=Y,Je.invalidAt=function(){return y(this).overflow},Je.isAfter=function(t,e){var i=p(t)?t:rt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=S(a(e)?"millisecond":e))?+i<+this:+i<+this.clone().startOf(e))},Je.isBefore=function(t,e){var i=p(t)?t:rt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=S(a(e)?"millisecond":e))?+this<+i:+this.clone().endOf(e)<+i)},Je.isBetween=function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},Je.isSame=function(t,e){var i,s=p(t)?t:rt(t);return!(!this.isValid()||!s.isValid())&&("millisecond"===(e=S(e||"millisecond"))?+this==+s:(i=+s,+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e)))},Je.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Je.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Je.isValid=function(){return l(this)},Je.lang=He,Je.locale=wt,Je.localeData=bt,Je.max=Re,Je.min=Oe,Je.parsingFlags=function(){return d({},y(this))},Je.set=Y,Je.startOf=function(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Je.subtract=Ge,Je.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Je.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Je.toDate=function(){return this._offset?new Date(+this):this._d},Je.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?M(Date.prototype.toISOString)?this.toDate().toISOString():A(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Je.toJSON=function(){return this.isValid()?this.toISOString():"null"},Je.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Je.unix=function(){return Math.floor(+this/1e3)},Je.valueOf=function(){return+this._d-6e4*(this._offset||0)},Je.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Je.year=Ae,Je.isLeapYear=function(){return $(this.year())},Je.weekYear=function(t){return xt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Je.isoWeekYear=function(t){return xt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Je.quarter=Je.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Je.month=I,Je.daysInMonth=function(){return G(this.year(),this.month())},Je.week=Je.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Je.isoWeek=Je.isoWeeks=function(t){var e=K(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Je.weeksInYear=function(){var t=this.localeData()._week;return tt(this.year(),t.dow,t.doy)},Je.isoWeeksInYear=function(){return tt(this.year(),1,4)},Je.date=Ie,Je.day=Je.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-s,"d")):s},Je.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Je.isoWeekday=function(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN},Je.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Je.hour=Je.hours=Be,Je.minute=Je.minutes=Ze,Je.second=Je.seconds=Xe,Je.millisecond=Je.milliseconds=$e,Je.utcOffset=function(t,e){var i,s=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=lt(he,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(i=ft(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?_t(this,pt(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:ft(this):null!=t?this:NaN},Je.utc=function(t){return this.utcOffset(0,t)},Je.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ft(this),"m")),this},Je.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(lt(oe,this._i)),this},Je.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?rt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Je.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Je.isDSTShifted=function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),(t=nt(t))._a){var e=t._isUTC?r(t._a):rt(t._a);this._isDSTShifted=this.isValid()&&0<b(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted},Je.isLocal=function(){return!!this.isValid()&&!this._isUTC},Je.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Je.isUtc=mt,Je.isUTC=mt,Je.zoneAbbr=function(){return this._isUTC?"UTC":""},Je.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Je.dates=B("dates accessor is deprecated. Use date instead.",Ie),Je.months=B("months accessor is deprecated. Use month instead",I),Je.years=B("years accessor is deprecated. Use year instead",Ae),Je.zone=B("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var Qe=Je,Ke=i.prototype;Ke._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ke.calendar=function(t,e,i){var s=this._calendar[t];return M(s)?s.call(e,i):s},Ke._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ke.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},Ke._invalidDate="Invalid date",Ke.invalidDate=function(){return this._invalidDate},Ke._ordinal="%d",Ke.ordinal=function(t){return this._ordinal.replace("%d",t)},Ke._ordinalParse=/\d{1,2}/,Ke.preparse=Pt,Ke.postformat=Pt,Ke._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ke.relativeTime=function(t,e,i,s){var n=this._relativeTime[i];return M(n)?n(t,e,i,s):n.replace(/%d/i,t)},Ke.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return M(i)?i(e):i.replace(/%s/i,e)},Ke.set=function(t){var e,i;for(i in t)M(e=t[i])?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Ke.months=function(t,e){return o(this._months)?this._months[t.month()]:this._months[be.test(e)?"format":"standalone"][t.month()]},Ke._months=ke,Ke.monthsShort=function(t,e){return o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[be.test(e)?"format":"standalone"][t.month()]},Ke._monthsShort=xe,Ke.monthsParse=function(t,e,i){var s,n,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=r([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}},Ke._monthsRegex=Se,Ke.monthsRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||V.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex},Ke._monthsShortRegex=Ce,Ke.monthsShortRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||V.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex},Ke.week=function(t){return K(t,this._week.dow,this._week.doy).week},Ke._week={dow:0,doy:6},Ke.firstDayOfYear=function(){return this._week.doy},Ke.firstDayOfWeek=function(){return this._week.dow},Ke.weekdays=function(t,e){return o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]},Ke._weekdays=Ve,Ke.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},Ke._weekdaysMin=ze,Ke.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},Ke._weekdaysShort=je,Ke.weekdaysParse=function(t,e,i){var s,n,a;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(n=rt([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(a.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(i&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(i&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}},Ke.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Ke._meridiemParse=/[ap]\.?m?\.?/i,Ke.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},s("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),g.lang=B("moment.lang is deprecated. Use moment.locale instead.",s),g.langData=B("moment.langData is deprecated. Use moment.localeData instead.",C);var ti=Math.abs,ei=Rt("ms"),ii=Rt("s"),si=Rt("m"),ni=Rt("h"),ai=Rt("d"),ri=Rt("w"),oi=Rt("M"),hi=Rt("y"),ui=Ft("milliseconds"),di=Ft("seconds"),li=Ft("minutes"),ci=Ft("hours"),fi=Ft("days"),mi=Ft("months"),pi=Ft("years"),vi=Math.round,gi={s:45,m:45,h:22,d:26,M:11},yi=Math.abs,_i=ht.prototype;return _i.abs=function(){var t=this._data;return this._milliseconds=ti(this._milliseconds),this._days=ti(this._days),this._months=ti(this._months),t.milliseconds=ti(t.milliseconds),t.seconds=ti(t.seconds),t.minutes=ti(t.minutes),t.hours=ti(t.hours),t.months=ti(t.months),t.years=ti(t.years),this},_i.add=function(t,e){return Et(this,t,e,1)},_i.subtract=function(t,e){return Et(this,t,e,-1)},_i.as=function(t){var e,i,s=this._milliseconds;if("month"===(t=S(t))||"year"===t)return e=this._days+s/864e5,i=this._months+At(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Ot(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}},_i.asMilliseconds=ei,_i.asSeconds=ii,_i.asMinutes=si,_i.asHours=ni,_i.asDays=ai,_i.asWeeks=ri,_i.asMonths=oi,_i.asYears=hi,_i.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},_i._bubble=function(){var t,e,i,s,n,a=this._milliseconds,r=this._days,o=this._months,h=this._data;return 0<=a&&0<=r&&0<=o||a<=0&&r<=0&&o<=0||(a+=864e5*Wt(Ot(o)+r),o=r=0),h.milliseconds=a%1e3,t=_(a/1e3),h.seconds=t%60,e=_(t/60),h.minutes=e%60,i=_(e/60),h.hours=i%24,o+=n=_(At(r+=_(i/24))),r-=Wt(Ot(n)),s=_(o/12),o%=12,h.days=r,h.months=o,h.years=s,this},_i.get=function(t){return this[(t=S(t))+"s"]()},_i.milliseconds=ui,_i.seconds=di,_i.minutes=li,_i.hours=ci,_i.days=fi,_i.weeks=function(){return _(this.days()/7)},_i.months=mi,_i.years=pi,_i.humanize=function(t){var e,i,s,n,a,r,o,h,u,d,l,c=this.localeData(),f=(i=!t,s=c,n=pt(e=this).abs(),a=vi(n.as("s")),r=vi(n.as("m")),o=vi(n.as("h")),h=vi(n.as("d")),u=vi(n.as("M")),d=vi(n.as("y")),(l=a<gi.s&&["s",a]||r<=1&&["m"]||r<gi.m&&["mm",r]||o<=1&&["h"]||o<gi.h&&["hh",o]||h<=1&&["d"]||h<gi.d&&["dd",h]||u<=1&&["M"]||u<gi.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=i,l[3]=0<+e,l[4]=s,function(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}.apply(null,l));return t&&(f=c.pastFuture(+this,f)),c.postformat(f)},_i.toISOString=Lt,_i.toString=Lt,_i.toJSON=Lt,_i.locale=wt,_i.localeData=bt,_i.toIsoString=B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Lt),_i.lang=He,W("X",0,0,"unix"),W("x",0,0,"valueOf"),R("x",re),R("X",/[+-]?\d+(\.\d{1,3})?/),N("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),N("x",function(t,e,i){i._d=new Date(w(t))}),g.version="2.11.2",Nt=rt,g.fn=Qe,g.min=function(){return ot("isBefore",[].slice.call(arguments,0))},g.max=function(){return ot("isAfter",[].slice.call(arguments,0))},g.now=function(){return Date.now?Date.now():+new Date},g.utc=r,g.unix=function(t){return rt(1e3*t)},g.months=function(t,e){return Yt(t,e,"months",12,"month")},g.isDate=h,g.locale=s,g.invalid=c,g.duration=pt,g.isMoment=p,g.weekdays=function(t,e){return Yt(t,e,"weekdays",7,"day")},g.parseZone=function(){return rt.apply(null,arguments).parseZone()},g.localeData=C,g.isDuration=ut,g.monthsShort=function(t,e){return Yt(t,e,"monthsShort",12,"month")},g.weekdaysMin=function(t,e){return Yt(t,e,"weekdaysMin",7,"day")},g.defineLocale=n,g.weekdaysShort=function(t,e){return Yt(t,e,"weekdaysShort",7,"day")},g.normalizeUnits=S,g.relativeTimeThreshold=function(t,e){return void 0!==gi[t]&&(void 0===e?gi[t]:(gi[t]=e,!0))},g.prototype=Qe,g}),function(t,e){"function"==typeof define&&define.amd?define("wavesurfer",[],function(){return t.WaveSurfer=e()}):"object"==typeof exports?module.exports=e():t.WaveSurfer=e()}(this,function(){"use strict";var t,p={defaultParams:{height:128,waveColor:"#999",progressColor:"#555",cursorColor:"#333",cursorWidth:1,skipLength:2,minPxPerSec:20,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,fillParent:!0,scrollParent:!1,hideScrollbar:!1,normalize:!1,audioContext:null,container:null,dragSelection:!0,loopSelection:!0,audioRate:1,interact:!0,splitChannels:!1,mediaContainer:null,mediaControls:!1,renderer:"Canvas",backend:"WebAudio",mediaType:"audio",autoCenter:!0},init:function(t){if(this.params=p.util.extend({},this.defaultParams,t),this.container="string"==typeof t.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(null==this.params.mediaContainer?this.mediaContainer=this.container:"string"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.isDestroyed=!1},createDrawer:function(){var i=this;this.drawer=Object.create(p.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){i.drawBuffer(),i.drawer.progress(i.backend.getPlayedPercents())}),this.drawer.on("click",function(t,e){setTimeout(function(){i.seekTo(e)},0)}),this.drawer.on("scroll",function(t){i.fireEvent("scroll",t)})},createBackend:function(){var e=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||p.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(p[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){e.fireEvent("finish")}),this.backend.on("play",function(){e.fireEvent("play")}),this.backend.on("pause",function(){e.fireEvent("pause")}),this.backend.on("audioprocess",function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(t,e){this.fireEvent("interaction",this.play.bind(this,t,e)),this.backend.play(t,e)},pause:function(){this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(t){this.skip(-t||-this.params.skipLength)},skipForward:function(t){this.skip(t||this.params.skipLength)},skip:function(t){var e=this.getCurrentTime()||0,i=this.getDuration()||1;e=Math.max(0,Math.min(i,e+(t||0))),this.seekAndCenter(e/i)},seekAndCenter:function(t){this.seekTo(t),this.drawer.recenter(t)},seekTo:function(t){this.fireEvent("interaction",this.seekTo.bind(this,t));var e=this.backend.isPaused(),i=this.params.scrollParent;e&&(this.params.scrollParent=!1),this.backend.seekTo(t*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),e||(this.backend.pause(),this.backend.play()),this.params.scrollParent=i,this.fireEvent("seek",t)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(t){this.backend.setVolume(t)},setPlaybackRate:function(t){this.backend.setPlaybackRate(t)},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(t){t!==this.isMuted&&(t?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),e=this.drawer.getWidth(),i=t;this.params.fillParent&&(!this.params.scrollParent||t<e)&&(i=e);var s=this.backend.getPeaks(i);this.drawer.drawPeaks(s,i),this.fireEvent("redraw",s,i)},zoom:function(t){this.params.minPxPerSec=t,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",t)},loadArrayBuffer:function(t){this.decodeArrayBuffer(t,function(t){this.isDestroyed||this.loadDecodedBuffer(t)}.bind(this))},loadDecodedBuffer:function(t){this.backend.load(t),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(t){var e=this,i=new FileReader;i.addEventListener("progress",function(t){e.onProgress(t)}),i.addEventListener("load",function(t){e.loadArrayBuffer(t.target.result)}),i.addEventListener("error",function(){e.fireEvent("error","Error reading file")}),i.readAsArrayBuffer(t),this.empty()},load:function(t,e,i){switch(this.empty(),this.params.backend){case"WebAudio":return this.loadBuffer(t,e);case"MediaElement":return this.loadMediaElement(t,e,i)}},loadBuffer:function(e,t){var i=function(t){return t&&this.tmpEvents.push(this.once("ready",t)),this.getArrayBuffer(e,this.loadArrayBuffer.bind(this))}.bind(this);return t?(this.backend.setPeaks(t),this.drawBuffer(),void this.tmpEvents.push(this.once("interaction",i))):i()},loadMediaElement:function(t,e,i){var s=t;if("string"==typeof t)this.backend.load(s,this.mediaContainer,e,i);else{var n=t;this.backend.loadElt(n,e),s=n.src}this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(t){this.fireEvent("error",t)}.bind(this))),e?this.backend.setPeaks(e):this.backend.supportsWebAudio()&&this.getArrayBuffer(s,function(t){this.decodeArrayBuffer(t,function(t){this.backend.buffer=t,this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(e,i){this.arraybuffer=e,this.backend.decodeArrayBuffer(e,function(t){this.isDestroyed||this.arraybuffer!=e||(i(t),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(t,i){var s=this,e=p.util.ajax({url:t,responseType:"arraybuffer"});return this.currentAjax=e,this.tmpEvents.push(e.on("progress",function(t){s.onProgress(t)}),e.on("success",function(t,e){i(t),s.currentAjax=null}),e.on("error",function(t){s.fireEvent("error","XHR error: "+t.target.statusText),s.currentAjax=null})),e},onProgress:function(t){if(t.lengthComputable)var e=t.loaded/t.total;else e=t.loaded/(t.loaded+1e6);this.fireEvent("loading",Math.round(100*e),t.target)},exportPCM:function(t,e,i){t=t||1024,e=e||1e4,i=i||!1;var s=this.backend.getPeaks(t,e),n=[].map.call(s,function(t){return Math.round(t*e)/e}),a=JSON.stringify(n);return i||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(a)),a},exportImage:function(t,e){return t||(t="image/png"),e||(e=1),this.drawer.getImage(t,e)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(t){t.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0},create:function(t){var e=Object.create(p);return e.init(t),e}};return p.util={extend:function(i){return Array.prototype.slice.call(arguments,1).forEach(function(e){Object.keys(e).forEach(function(t){i[t]=e[t]})}),i},min:function(t){var e=1/0;for(var i in t)t[i]<e&&(e=t[i]);return e},max:function(t){var e=-1/0;for(var i in t)t[i]>e&&(e=t[i]);return e},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(t){var e=Object.create(p.Observer),i=new XMLHttpRequest,s=!1;return i.open(t.method||"GET",t.url,!0),i.responseType=t.responseType||"json",i.addEventListener("progress",function(t){e.fireEvent("progress",t),t.lengthComputable&&t.loaded==t.total&&(s=!0)}),i.addEventListener("load",function(t){s||e.fireEvent("progress",t),e.fireEvent("load",t),200==i.status||206==i.status?e.fireEvent("success",i.response,t):e.fireEvent("error",t)}),i.addEventListener("error",function(t){e.fireEvent("error",t)}),i.send(),e.xhr=i,e}},p.Observer={on:function(t,e){this.handlers||(this.handlers={});var i=this.handlers[t];return i||(i=this.handlers[t]=[]),i.push(e),{name:t,callback:e,un:this.un.bind(this,t,e)}},un:function(t,e){if(this.handlers){var i=this.handlers[t];if(i)if(e)for(var s=i.length-1;0<=s;s--)i[s]==e&&i.splice(s,1);else i.length=0}},unAll:function(){this.handlers=null},once:function(t,e){var i=this,s=function(){e.apply(this,arguments),setTimeout(function(){i.un(t,s)},0)};return this.on(t,s)},fireEvent:function(t){if(this.handlers){var e=this.handlers[t],i=Array.prototype.slice.call(arguments,1);e&&e.forEach(function(t){t.apply(null,i)})}}},p.util.extend(p,p.Observer),p.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return this.ac||(this.ac=new(window.AudioContext||window.webkitAudioContext)),this.ac},getOfflineAudioContext:function(t){return p.WebAudio.offlineAudioContext||(p.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,t)),p.WebAudio.offlineAudioContext},init:function(t){this.params=t,this.ac=t.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(p.WebAudio.state.playing),Object.create(p.WebAudio.state.paused),Object.create(p.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(t){t&&t.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(t){this.state!==this.states[t]&&(this.state=this.states[t],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(t){this.disconnectFilters(),t&&t.length&&(this.filters=t,this.analyser.disconnect(),t.reduce(function(t,e){return t.connect(e),e},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(e.FINISHED_STATE),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states[e.PLAYING_STATE]&&e.fireEvent("audioprocess",t)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(t){this.gainNode.gain.value=t},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(t,e,i){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(t,function(t){e(t)}.bind(this),i)},setPeaks:function(t){this.peaks=t},getPeaks:function(t){if(this.peaks)return this.peaks;for(var e=this.buffer.length/t,i=~~(e/10)||1,s=this.buffer.numberOfChannels,n=[],a=[],r=0;r<s;r++)for(var o=n[r]=[],h=this.buffer.getChannelData(r),u=0;u<t;u++){for(var d=~~(u*e),l=~~(d+e),c=0,f=0,m=d;m<l;m+=i){var p=h[m];f<p&&(f=p),p<c&&(c=p)}o[2*u]=f,o[2*u+1]=c,(0==r||f>a[2*u])&&(a[2*u]=f),(0==r||c<a[2*u+1])&&(a[2*u+1]=c)}return this.params.splitChannels?n:a},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.audioContext||this.ac.close()},load:function(t){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=t,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(t,e){if(this.buffer)return(this.scheduledPause=null)==t&&((t=this.getCurrentTime())>=this.getDuration()&&(t=0)),null==e&&(e=this.getDuration()),this.startPosition=t,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:t,end:e}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(t,e){if(this.buffer){this.createSource();var i=this.seekTo(t,e);t=i.start,e=i.end,this.scheduledPause=e,this.source.start(0,t,e-t),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play")}},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},setPlaybackRate:function(t){t=t||1,this.isPaused()?this.playbackRate=t:(this.pause(),this.playbackRate=t,this.play())}},p.WebAudio.state={},p.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},p.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition}},p.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},p.util.extend(p.WebAudio,p.Observer),p.MediaElement=Object.create(p.WebAudio),p.util.extend(p.MediaElement,{init:function(t){this.params=t,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=t.mediaType.toLowerCase(),this.elementPosition=t.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var t=this,e=function(){t.isPaused()||(t.fireEvent("audioprocess",t.getCurrentTime()),(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(e))};this.on("play",e)},load:function(t,e,i,s){var n=document.createElement(this.mediaType);n.controls=this.params.mediaControls,n.autoplay=this.params.autoplay||!1,n.preload=null==s?"auto":s,n.src=t,n.style.width="100%";var a=e.querySelector(this.mediaType);a&&e.removeChild(a),e.appendChild(n),this._load(n,i)},loadElt:function(t,e){var i=t;i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,this._load(i,e)},_load:function(t,e){var i=this;"function"==typeof t.load&&t.load(),t.addEventListener("error",function(){i.fireEvent("error","Error loading media element")}),t.addEventListener("canplay",function(){i.fireEvent("canplay")}),t.addEventListener("ended",function(){i.fireEvent("finish")}),this.media=t,this.peaks=e,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var t=this.media.duration;return 1/0<=t&&(t=this.media.seekable.end(0)),t},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(t){this.playbackRate=t||1,this.media.playbackRate=this.playbackRate},seekTo:function(t){null!=t&&(this.media.currentTime=t),this.clearPlayEnd()},play:function(t,e){this.seekTo(t),this.media.play(),e&&this.setPlayEnd(e),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(e){var i=this;this.onPlayEnd=function(t){e<=t&&(i.pause(),i.seekTo(e))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(t){return this.buffer?p.WebAudio.getPeaks.call(this,t):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(t){this.media.volume=t},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),p.AudioElement=p.MediaElement,p.Drawer={init:function(t,e){this.container=t,this.params=e,this.width=0,this.height=e.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(e),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(t,e){!e&&t.preventDefault();var i,s=t.targetTouches?t.targetTouches[0].clientX:t.clientX,n=this.wrapper.getBoundingClientRect(),a=this.width,r=this.getWidth();return!this.params.fillParent&&a<r?1<(i=(s-n.left)*this.params.pixelRatio/a||0)&&(i=1):i=(s-n.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,i},setupWrapperEvents:function(){var s=this;this.wrapper.addEventListener("click",function(t){var e=s.wrapper.offsetHeight-s.wrapper.clientHeight;if(0!=e){var i=s.wrapper.getBoundingClientRect();if(t.clientY>=i.bottom-e)return}s.params.interact&&s.fireEvent("click",t,s.handleEvent(t))}),this.wrapper.addEventListener("scroll",function(t){s.fireEvent("scroll",t)})},drawPeaks:function(t,e){this.resetScroll(),this.setWidth(e),this.params.barWidth?this.drawBars(t):this.drawWave(t)},style:function(e,i){return Object.keys(i).forEach(function(t){e.style[t]!==i[t]&&(e.style[t]=i[t])}),e},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(t){var e=this.wrapper.scrollWidth*t;this.recenterOnPosition(e,!0)},recenterOnPosition:function(t,e){var i=this.wrapper.scrollLeft,s=~~(this.wrapper.clientWidth/2),n=t-s,a=n-i,r=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=r){if(!e&&-s<=a&&a<s){n=i+(a=Math.max(-5,Math.min(5,a)))}(n=Math.max(0,Math.min(r,n)))!=i&&(this.wrapper.scrollLeft=n)}},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(t){this.width=t,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize()},setHeight:function(t){t!=this.height&&(this.height=t,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(t){var e=1/this.params.pixelRatio,i=Math.round(t*this.width)*e;if(i<this.lastPos||i-this.lastPos>=e){if(this.lastPos=i,this.params.scrollParent&&this.params.autoCenter){var s=~~(this.wrapper.scrollWidth*t);this.recenterOnPosition(s)}this.updateProgress(t)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(t,e){},clearWave:function(){},updateProgress:function(t){}},p.util.extend(p.Drawer,p.Observer),p.Drawer.Canvas=Object.create(p.Drawer),p.util.extend(p.Drawer.Canvas,{createElements:function(){var t=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=t.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var e=this.progressWave.appendChild(document.createElement("canvas"));this.progressCc=e.getContext("2d")}},updateSize:function(){var t=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:t+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:t+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(s,t){if(s[0]instanceof Array){var e=s;if(this.params.splitChannels)return this.setHeight(e.length*this.params.height*this.params.pixelRatio),void e.forEach(this.drawBars,this);s=e[0]}[].some.call(s,function(t){return t<0})&&(s=[].filter.call(s,function(t,e){return e%2==0}));var n=.5/this.params.pixelRatio,a=this.width,i=this.params.height*this.params.pixelRatio,r=i*t||0,o=i/2,h=s.length,u=this.params.barWidth*this.params.pixelRatio,d=Math.max(this.params.pixelRatio,~~(u/2)),l=u+d,c=1;this.params.normalize&&(c=p.util.max(s));var f=h/a;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t)for(var e=0;e<a;e+=l){var i=Math.round(s[Math.floor(e*f)]/c*o);t.fillRect(e+n,o-i+r,u+n,2*i)}},this)},drawWave:function(s,t){if(s[0]instanceof Array){var e=s;if(this.params.splitChannels)return this.setHeight(e.length*this.params.height*this.params.pixelRatio),void e.forEach(this.drawWave,this);s=e[0]}if(![].some.call(s,function(t){return t<0})){for(var i=[],n=0,a=s.length;n<a;n++)i[2*n]=s[n],i[2*n+1]=-s[n];s=i}var r=.5/this.params.pixelRatio,o=this.params.height*this.params.pixelRatio,h=o*t||0,u=o/2,d=~~(s.length/2),l=1;this.params.fillParent&&this.width!=d&&(l=this.width/d);var c=1;if(this.params.normalize){var f=p.util.max(s),m=p.util.min(s);c=f<-m?-m:f}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t){t.beginPath(),t.moveTo(r,u+h);for(var e=0;e<d;e++){var i=Math.round(s[2*e]/c*u);t.lineTo(e*l+r,u-i+h)}for(e=d-1;0<=e;e--){i=Math.round(s[2*e+1]/c*u);t.lineTo(e*l+r,u-i+h)}t.closePath(),t.fill(),t.fillRect(0,u+h-r,this.width,r)}},this)},updateProgress:function(t){var e=Math.round(this.width*t)/this.params.pixelRatio;this.style(this.progressWave,{width:e+"px"})},getImage:function(t,e){return this.waveCc.canvas.toDataURL(t,e)}}),p.Drawer.MultiCanvas=Object.create(p.Drawer),p.util.extend(p.Drawer.MultiCanvas,{initDrawer:function(t){if(this.maxCanvasWidth=null!=t.maxCanvasWidth?t.maxCanvasWidth:4e3,this.maxCanvasElementWidth=Math.round(this.maxCanvasWidth/this.params.pixelRatio),this.maxCanvasWidth<=1)throw"maxCanvasWidth must be greater than 1.";if(this.maxCanvasWidth%2==1)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var t=Math.round(this.width/this.params.pixelRatio),e=Math.ceil(t/this.maxCanvasElementWidth);this.canvases.length<e;)this.addCanvas();for(;this.canvases.length>e;)this.removeCanvas();for(var i in this.canvases){var s=this.maxCanvasWidth+2*Math.ceil(this.params.pixelRatio/2);i==this.canvases.length-1&&(s=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[i],s,this.height),this.clearWaveForEntry(this.canvases[i])}},addCanvas:function(){var t={},e=this.maxCanvasElementWidth*this.canvases.length;t.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:e+"px",top:0,bottom:0})),t.waveCtx=t.wave.getContext("2d"),this.hasProgressCanvas&&(t.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:e+"px",top:0,bottom:0})),t.progressCtx=t.progress.getContext("2d")),this.canvases.push(t)},removeCanvas:function(){var t=this.canvases.pop();t.wave.parentElement.removeChild(t.wave),this.hasProgressCanvas&&t.progress.parentElement.removeChild(t.progress)},updateDimensions:function(t,e,i){var s=Math.round(e/this.params.pixelRatio),n=Math.round(this.width/this.params.pixelRatio);t.start=t.waveCtx.canvas.offsetLeft/n||0,t.end=t.start+s/n,t.waveCtx.canvas.width=e,t.waveCtx.canvas.height=i,this.style(t.waveCtx.canvas,{width:s+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(t.progressCtx.canvas.width=e,t.progressCtx.canvas.height=i,this.style(t.progressCtx.canvas,{width:s+"px"}))},clearWave:function(){for(var t in this.canvases)this.clearWaveForEntry(this.canvases[t])},clearWaveForEntry:function(t){t.waveCtx.clearRect(0,0,t.waveCtx.canvas.width,t.waveCtx.canvas.height),this.hasProgressCanvas&&t.progressCtx.clearRect(0,0,t.progressCtx.canvas.width,t.progressCtx.canvas.height)},drawBars:function(t,e){if(t[0]instanceof Array){var i=t;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(this.drawBars,this);t=i[0]}[].some.call(t,function(t){return t<0})&&(t=[].filter.call(t,function(t,e){return e%2==0}));var s=this.width,n=this.params.height*this.params.pixelRatio,a=n*e||0,r=n/2,o=t.length,h=this.params.barWidth*this.params.pixelRatio,u=h+Math.max(this.params.pixelRatio,~~(h/2)),d=1;this.params.normalize&&(d=p.util.max(t));for(var l=o/s,c=0;c<s;c+=u){var f=Math.round(t[Math.floor(c*l)]/d*r);this.fillRect(c+this.halfPixel,r-f+a,h+this.halfPixel,2*f)}},drawWave:function(t,e){if(t[0]instanceof Array){var i=t;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(this.drawWave,this);t=i[0]}if(![].some.call(t,function(t){return t<0})){for(var s=[],n=0,a=t.length;n<a;n++)s[2*n]=t[n],s[2*n+1]=-t[n];t=s}var r=this.params.height*this.params.pixelRatio,o=r*e||0,h=r/2,u=1;if(this.params.normalize){var d=p.util.max(t),l=p.util.min(t);u=d<-l?-l:d}this.drawLine(t,u,h,o),this.fillRect(0,h+o-this.halfPixel,this.width,this.halfPixel)},drawLine:function(t,e,i,s){for(var n in this.canvases){var a=this.canvases[n];this.setFillStyles(a),this.drawLineToContext(a,a.waveCtx,t,e,i,s),this.drawLineToContext(a,a.progressCtx,t,e,i,s)}},drawLineToContext:function(t,e,i,s,n,a){if(e){var r=i.length/2,o=1;this.params.fillParent&&this.width!=r&&(o=this.width/r);var h=Math.round(r*t.start),u=Math.round(r*t.end);e.beginPath(),e.moveTo(this.halfPixel,n+a);for(var d=h;d<u;d++){var l=Math.round(i[2*d]/s*n);e.lineTo((d-h)*o+this.halfPixel,n-l+a)}for(d=u-1;h<=d;d--){l=Math.round(i[2*d+1]/s*n);e.lineTo((d-h)*o+this.halfPixel,n-l+a)}e.closePath(),e.fill()}},fillRect:function(t,e,i,s){for(var n in this.canvases){var a=this.canvases[n],r=n*this.maxCanvasWidth,o={x1:Math.max(t,n*this.maxCanvasWidth),y1:e,x2:Math.min(t+i,n*this.maxCanvasWidth+a.waveCtx.canvas.width),y2:e+s};o.x1<o.x2&&(this.setFillStyles(a),this.fillRectToContext(a.waveCtx,o.x1-r,o.y1,o.x2-o.x1,o.y2-o.y1),this.fillRectToContext(a.progressCtx,o.x1-r,o.y1,o.x2-o.x1,o.y2-o.y1))}},fillRectToContext:function(t,e,i,s,n){t&&t.fillRect(e,i,s,n)},setFillStyles:function(t){t.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(t.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(t){var e=Math.round(this.width*t)/this.params.pixelRatio;this.style(this.progressWave,{width:e+"px"})}}),t=function(){var t=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(t,function(t){var e=p.util.extend({container:t,backend:"MediaElement",mediaControls:!0},t.dataset);t.style.display="block";var i=p.create(e);if(t.dataset.peaks)var s=JSON.parse(t.dataset.peaks);i.load(t.dataset.url,s)})},"complete"===document.readyState?t():window.addEventListener("load",t),p}),IRON.audioPlayer=function(f){"use strict";var m=Boolean("wavesurfer"===sonaar_music.option.waveformType);var d=function(t,e,i){m&&t.on("finish",function(){e.data("no-track-skip")?g(e,t):w(e,t,i)})},l=function(t,e){b(t)||(m?t.on("ready",function(){t.play(),g(e,t)}):(t.play(),g(e,t)))};function c(t,e,i,s){var n,a,r=i.find(".album .album-art"),o=i.find(".album"),h=i.find(".track-title"),u=i.find(".track-time"),d=i.find(".sr_it-artists-value"),l=i.find(".album-title"),c=(l=i.find(".sr_it-playlist-title"),i.find(".sr_it-date-value"));t.data("albumart")?(o.show(),r.show(),r.css("cursor","pointer"),r.find("img").length?r.find("img").attr("src",t.data("albumart")):r.css("background-image","url("+t.data("albumart")+")")):(o.hide(),r.hide()),i.data("currentTrack",e),h.text(t.data("tracktitle")),u.text(t.data("tracktime")),d.text(t.data("trackartists")),c.text(t.data("releasedate")),l.text(t.data("albumtitle")),i.find(".player").removeClass("hide"),i.find(".wave").removeClass("reveal"),t.data("showloading")?i.find(".progressLoading").css("opacity","0.75"):i.find(".player").addClass("hide"),m&&v(t.data("audiopath"),s,i),m||x(i),n=i,a=s,m?a.on("ready",function(){a.isPlaying()||(a.on("audioprocess",function(){var t=a.getCurrentTime(),e=a.getDuration(),i=moment.duration(t,"seconds");if(t=moment(i.minutes()+":"+i.seconds(),"m:s").format("mm:ss"),e!==1/0){var s=moment.duration(a.getDuration()-a.getCurrentTime(),"seconds");12<=s.hours()||s.hours()<=0?n.find(".totalTime").html("-"+moment(s.minutes()+":"+s.seconds(),"m:s").format("mm:ss")):n.find(".totalTime").html("-"+moment(s.hours()+":"+s.minutes()+":"+s.seconds(),"h:m:s").format("h:mm:ss"))}else n.find(".totalTime").html(this.list.tracks[this.currentTrack].length);n.find(".currentTime").html(moment(i.minutes()+":"+i.seconds(),"m:s").format("mm:ss"))}),n.find(".player").addClass("reveal"),f(".wave").addClass("reveal"),n.find(".progressLoading").css("opacity","0"))}):f(a).on("timeupdate",function(){var t=a.currentTime,e=moment.duration(t,"seconds");if(n.find(".currentTime").html(moment(e.minutes()+":"+e.seconds(),"m:s").format("mm:ss")),a.duration!==1/0){var i=moment.duration(a.duration-a.currentTime,"seconds");n.find(".totalTime").html("-"+moment(i.minutes()+":"+i.seconds(),"m:s").format("mm:ss"))}else n.find(".totalTime").html("")}),hideEmptyAttribut(t.data("releasedate"),i.find(".sr_it-playlist-release-date"))}function p(){f(".playlist li").each(function(){var t=f(this).find(".store-list").outerWidth(),e=f(this).find(".track-number").outerWidth();f(this).find(".tracklist-item-title").css("max-width",f(this).outerWidth()-t-e-10)})}var v=function(t,e){console.log("setAudio"),m?setTimeout(function(){e.load(t)},250):(f(e).attr("src",t),e.load(),f(".sonaar_fake_wave").on("click",function(t){var e=f(this).find(".sonaar_media_element")[0],i=f(this).width()/t.offsetX;e.currentTime=e.duration/i}))};function g(t,e){f.each(IRON.players,function(){this.audioPlayer.removeClass("audio-playing")}),b(e)?t.addClass("audio-playing"):t.removeClass("audio-playing")}function y(){f.each(IRON.players,function(){b(this.wavesurfer)&&this.wavesurfer.pause()})}function _(t,e){t.find(".playlist li").hasClass("current")||t.find("li:first-of-type").addClass("current"),b(e)?e.pause():e.play(),g(t,e)}function w(t,e,i){var s=t.data("currentTrack")+1;i.find("li").eq(s).length||(s=0),e.pause(),i.find("li").eq(s).find("a").click()}function b(t){return m?t.isPlaying():!t.paused}var k=function(t,e,i){f(t).on("timeupdate",function(){f(e).find(".sonaar_wave_cut").width(this.currentTime/this.duration*100+"%"),t.ended&&(e.data("no-track-skip")||w(e,t,i))})},x=function(t){if("true"!=f(t).attr("first-track-loading")){var e=d3.selectAll(f(t).find(".sonaar_fake_wave svg")),i=[],s=0;f(t).find(".sonaar_fake_wave").each(function(){this.offsetWidth>s&&(s=this.offsetWidth)});for(var n=s/2,a=0;a<n;a++)i.push(60*Math.random()+0);e.selectAll("rect").remove(),e.selectAll("rect").data(i).enter().append("rect").attr("x",function(t,e){return 1*e+1*e+"px"}).attr("y",function(t){return(60-t)/2+"px"}).attr("height",function(t){return t+"px"}).attr("fill",function(){return sonaar_music.option.music_player_timeline_color}).attr("width","1.4")}else f(t).removeAttr("first-track-loading")};return{init:function(t){var e=t;this.audioPlayer=t;var i,s,n,a,r,o=this.audioPlayer.find(".player .wave").attr("id"),h=e.find(".playlist");if(this.playlist=h,this.autoplayEnable=e.data("autoplay"),f(e).css("opacity",1),m)(u=WaveSurfer.create({container:"#"+o,cursorWidth:0,barWidth:1,progressColor:sonaar_music.option.music_player_progress_color,waveColor:sonaar_music.option.music_player_timeline_color,height:70,mediaControls:!0,backend:"MediaElement",mediaControls:!1})).on("loading",function(){var t=arguments[0];e.find(".progressLoading").css("background",sonaar_music.option.music_player_timeline_color),e.find(".progressLoading").css("width","calc( "+t+"% - 200px )")});else var u=f("#"+o).find(".sonaar_media_element")[0];this.wavesurfer=u,m||(k(u,e,h),f(e).find(".wave").css("opacity","1")),i=u,s=e,h.find("li").each(function(){!function(t,e,i,s){t.find(".audio-track").remove();var n=f("<span/>",{class:"track-number",html:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 17.5 21.2" style="enable-background:new 0 0 17.5 21.2;" xml:space="preserve"><path d="M0,0l17.5,10.9L0,21.2V0z"></path><rect width="6" height="21.2"></rect><rect x="11.5" width="6" height="21.2"></rect></svg><span class="number">'+(e+1)+"</span>"});f(""),f("<a/>",{class:"audio-track",click:function(){""==i.currentSrc&&f(s).attr("first-track-loading","true"),0!=f(this).parent().attr("data-audiopath").length&&(b(i)&&t.hasClass("current")?(y(),g(s,i)):t.hasClass("current")?_(s,i):(y(),c(t,e,s,i),v(t.data("audiopath"),i,s),s.find(".playlist li").removeClass("current"),t.addClass("current"),l(i,s),g(s,i)))}}).appendTo(t).prepend(n).append('<div class="tracklist-item-title">'+t.data("tracktitle")+' <span class="tracklist-item-time">'+t.data("tracktime")+"</span></div>")}(f(this),f(this).index(),i,s)}),c(h.find("li").eq(0),h.find("li").index(),e,u),!e.data("no-wave")&&m&&v(h.find("li").eq(0).data("audiopath"),u,e),n=this.wavesurfer,r=h,(a=e).on("click",".play, .album .album-art",function(){y(),a.hasClass("audio-playing")?y():m||""!=n.currentSrc?(_(a,n),l(n,a)):(f(a).attr("first-track-loading","true"),r.find("li").eq(0).find("a").click()),g(a,n)}),a.on("click",".previous",function(){!function(t,e,i){var s=t.data("currentTrack")-1;if(m&&"2"<e.getCurrentTime())return e.seekTo(0);i.find("li").eq(s).find("a").click()}(a,n,r)}),a.on("click",".next",function(){w(a,n,r)}),d(u,e,h),p(),f(window).on("resize",function(){p()})},getPlayer:function(){return this},play:function(){_(this.audioPlayer,this.wavesurfer)},autoplayEnable:void 0,triggerPlay:l}}(jQuery),setIronAudioplayers();